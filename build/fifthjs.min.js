var Fifth=function(){var a=[],b=[],c=!1,d=!1,e={name:"",data:""},f={"+":function(){a.push(a.pop()+a.pop())},"-":function(){a.push(a.pop()-a.pop())},"*":function(){a.push(a.pop()*a.pop())},"/":function(){a.push(a.pop()/a.pop())},"=":function(){a.push(o(a.pop()==a.pop()))},MOD:function(){a.push(a.pop()%a.pop())},ABS:function(){a.push(Math.abs(a.pop()))},MIN:function(){a.push(Math.min(a.pop(),a.pop()))},MAX:function(){a.push(Math.max(a.pop(),a.pop()))},FLOOR:function(){a.push(Math.floor(a.pop()))},ROUND:function(){a.push(Math.round(a.pop()))},DUP:function(){var b=a.pop();a.push(b),a.push(b)},SWAP:function(){var b=a.pop(),c=a.pop();a.push(b),a.push(c)},DROP:function(){a.pop()},ROT:function(){var b=a.pop(),c=a.pop(),d=a.pop();a.push(c),a.push(b),a.push(d)},NIP:function(){a.splice(-2,1)},TUCK:function(){var b=a[a.length-1];a.splice(-2,0,b)},OVER:function(){a.push(a[a.length-2])},ROLL:function(){a.push(a.splice(-(a.pop()+1),1))},PICK:function(){var b=a.pop()+1;a.push(a[a.length-b])},"2DROP":"DROP DROP",">R":function(){b.push(a.pop())},"R>":function(){a.push(b.pop())},"R@":function(){a.push(b[b.length-1])},J:function(){a.push(b[b.length-3])},I:"R@",":":function(){c=!0},";":function(){l()},"(":function(){d=!0},")":function(){d=!1},".":function(){i(a.pop())},".S":function(){i("<"+a.length+"> "+a.join(" "))},PAGE:function(){g()},WORDS:function(){i(Object.keys(f).join(" "))},CLEARSTACK:function(){a=[]},EMIT:function(){i(String.fromCharCode(a.pop()))},CR:function(){i("\n")}},g=function(){this.stdout.value=""},h=function(a){this.stdout.value+=a},i=function(a){h(" "+a)},j=function(){h("  ok\n")},k=function(a){h("\nError: "+a+"\n")},l=function(){if(!c)throw"Not in compile mode!";if(""===e.name)throw"No name has been declared for the word to be compiled!";f[e.name]=e.data.trim(),e={name:"",data:""},c=!1},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},n=function(a){return a in f},o=function(a){return a?-1:0},p=function(b){if(""!=b.trim())if(c&&";"!==b)""===e.name?e.name=b:e.data+=b+" ";else if(m(b))a.push(parseFloat(b));else if(n(b)){var g=f[b];g instanceof Function?f[b]():q(g)}else if(!d)throw"Undefined word >"+b+"<"},q=function(a,b){var c=a.split(" ");try{for(var d=0;d<c.length&&"//"!==c[d];d++)p(c[d]);b&&j()}catch(e){k(e)}},r=function(a,b){a=a.trim(),h(a),q(a,!0)},s=function(a){this.stdout=a};return{parse:r,setOut:function(a){return s(a),this}}}();